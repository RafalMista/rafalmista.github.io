<!DOCTYPE html>
<html>
<head>
    <script src="laureacikolberga.geojson"></script>
</head>
<body>
Statystyki dotyczące Nagrody Kolberga
<br>

<select id="rok">
    <option value="1974">1974</option>
    <option value="1975">1975</option>
    <option value="1976">1976</option>
    <option value="1977">1977</option>
    <option value="1978">1978</option>
    <option value="1979">1979</option>
    <option value="1980">1980</option>
    <option value="1981">1981</option>
    <option value="1982">1982</option>
    <option value="1983">1983</option>
    <option value="1984">1984</option>
    <option value="1985">1985</option>
    <option value="1986">1986</option>
    <option value="1987">1987</option>
    <option value="1988">1988</option>
    <option value="1989">1989</option>   
    <option value="1990">1990</option>
    <option value="1991">1991</option>
    <option value="1992">1992</option>
    <option value="1993">1993</option>
    <option value="1994">1994</option>
    <option value="1995">1995</option>
    <option value="1996">1996</option>
    <option value="1997">1997</option>
    <option value="1998">1998</option>
    <option value="1999">1999</option>  
    <option value="2000">2000</option>
    <option value="2001">2001</option>
    <option value="2002">2002</option>
    <option value="2003">2003</option>
    <option value="2004">2004</option>
    <option value="2005">2005</option>
    <option value="2006">2006</option>
    <option value="2007">2007</option>
    <option value="2008">2008</option>
    <option value="2009">2009</option>
    <option value="2010">2010</option>
    <option value="2011">2011</option>
    <option value="2012">2012</option>
    <option value="2013">2013</option>
    <option value="2014">2014</option>
    <option value="2015">2015</option>
    <option value="2016">2016</option>
    <option value="2017">2017</option>
    <option value="2018">2018</option>
    <option value="2019">2019</option>
    <option value="2020">2020</option>
    <option value="2021">2021</option>
    <option value="2022">2022</option>
    <option value="2023">2023</option>
    <option value="2024">2024</option>
  </select>

<button onclick="costam()">
    Statystyki dla wybranego roku
</button>


<p id="test"></p>
<script>
//document.body.innerHTML = "Liczba laureatów Nagrody Kolberga: " + laureaci.features.length;
var dane = laureaci.features;

function sprawdzrok(zbior) {
  return zbior.properties.rok == document.querySelector('#rok').value;
}

function costam() {
    document.getElementById("test").innerHTML = "Liczba laureatów w danym roku: " + dane.filter(sprawdzrok).length;
}


//let text = "";
//for (let x of dane) {
//  text += JSON.stringify(x.properties.kategoria) + "<br>";
//}
//document.getElementById("test").innerHTML = text;


//var dataString=[ 
// { "category" : "Search Engines", "hits" : 5, "bytes" : 50189 },
// { "category" : "Content Server", "hits" : 1, "bytes" : 17308 },
// { "category" : "Content Server", "hits" : 1, "bytes" : 47412 },
// { "category" : "Search Engines", "hits" : 1, "bytes" : 7601 },
// { "category" : "Business", "hits" : 1, "bytes" : 2847 },
// { "category" : "Content Server", "hits" : 1, "bytes" : 24210 },
// { "category" : "Internet Services", "hits" : 1, "bytes" : 3690 },
// { "category" : "Search Engines", "hits" : 6, "bytes" : 613036 },
// { "category" : "Search Engines", "hits" : 1, "bytes" : 2858 } 
//];


//var result = dataString.reduce(function(res, obj) {
//    if (!(obj.category in res))
//        res.__array.push(res[obj.category] = obj);
//    else {
//        res[obj.category].hits += obj.hits;
//        res[obj.category].bytes += obj.bytes;
//    }
//    return res;
//}, {__array:[]}).__array
//                .sort(function(a,b) { return b.bytes - a.bytes; });

//document.write(JSON.stringify(result));



</script>

</body>
<br><br>
<a href = "nagrodakolberga.html">Mapa laureatów Nagrody Kolberga</a>
<br>
<a href = "index.html">Powrót na stronę główną</a>
</html>